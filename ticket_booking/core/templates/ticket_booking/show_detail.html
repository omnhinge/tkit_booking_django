{% extends 'base.html' %}

{% block content %}
    <h2>{{ show.name }}</h2>
    <p><strong>Date:</strong> {{ show.date }}</p>
    <p><strong>Time:</strong> {{ show.time }}</p>
    <p><strong>Venue:</strong> {{ show.venue }}</p>
    <p><strong>Total Seats:</strong> {{ show.total_seats }}</p>
    {% if user.is_authenticated %}
        <h3>Book Tickets</h3>
        <form method="post">
            {% csrf_token %}
            <label for="seats">Select Seats:</label><br>
            <select name="seats" id="seats" multiple required>
                {% for seat in available_seats %}
                    <option value="{{ seat }}">{{ seat }}</option>
                {% endfor %}
            </select><br>
            <small>Hold Ctrl (Windows) or Command (Mac) to select multiple seats.</small><br>
            <button type="submit">Book</button>
        </form>
    {% else %}
        <p>Please <a href="{% url 'login' %}">login</a> to book tickets.</p>
    {% endif %}
{% endblock %}